---
title: CCJK 6段階ワークフロー
---

# CCJK 6段階ワークフロー

6段階ワークフローは CCJK のコア開発プロセスであり、完全なソフトウェア開発ライフサイクルをカバーします：**リサーチ → 構想 → 計画 → 実行 → 最適化 → レビュー**。

## 機能特徴

- 📊 **構造化プロセス**：各段階に明確な入出力と AI 動作仕様あり
- ✅ **必須確認メカニズム**：各段階完了後にユーザー確認が必要、フィードバック漏れを防止
- 📝 **自動ドキュメント生成**：計画ドキュメントを自動生成し、プロジェクトディレクトリへの保存を要求
- 🔄 **イテレーションサポート**：複数回の反復と継続的改善をサポート

## 使い方

### Claude Code

Claude Code で以下のコマンドを使用：

```
/ccjk:workflow <タスク説明>
```

**例**：
```
/ccjk:workflow ユーザーログイン機能を実装、メールと電話番号ログインをサポート
```

### Codex

Codex で以下のコマンドを使用（プレフィックスが異なることに注意）：

```
/prompts:workflow <タスク説明>
```

**例**：
```
/prompts:workflow ユーザーログイン機能を実装、メールと電話番号ログインをサポート
```

> 💡 **ヒント**：Codex は `/prompts:` プレフィックスを使用し、Claude Code は `/ccjk:` プレフィックスを使用します。

## 6段階の詳細説明

### 1. リサーチ（Research）

**目標**：タスク要件と背景を深く理解する

**AI の動作**：
- タスク説明とコンテキストを分析
- 関連する技術資料とベストプラクティスを収集
- 潜在的な問題とリスクポイントを特定
- ユーザーニーズとビジネスシナリオを理解

**出力**：
- 要件分析レポート
- 技術調査結果
- リスク評価

### 2. 構想（Ideate）

**目標**：複数の実行可能なソリューションを生成

**AI の動作**：
- 複数の設計ソリューションを提案
- 各ソリューションの長所と短所を評価
- 技術的実現可能性と実装の複雑さを考慮
- 最適なソリューションを推奨

**出力**：
- 複数の設計ソリューション
- ソリューション比較分析
- 推奨ソリューションとその理由

### 3. 計画（Plan）

**目標**：詳細な実装計画を作成

**AI の動作**：
- タスクを具体的なステップに分解
- 技術選定とアーキテクチャ設計を決定
- 時間見積もりとマイルストーンを作成
- 依存関係と前提条件を特定

**出力**：
- 詳細なタスク分解
- 技術実装計画
- 開発計画とタイムライン
- 計画ドキュメント（`.ccjk/plan/current/タスク名.md` に保存）

### 4. 実行（Execute）

**目標**：計画に従って開発を実施

**AI の動作**：
- 計画に従ってステップごとに機能を実装
- コードとテストケースを作成
- 実装中の問題に対処
- コード品質と標準を維持

**出力**：
- 実装されたコード
- テストケース
- 関連ドキュメント

### 5. 最適化（Optimize）

**目標**：コード品質とパフォーマンスを向上

**AI の動作**：
- コードのリファクタリングと最適化
- パフォーマンス最適化の提案
- セキュリティチェック
- コード標準レビュー

**出力**：
- 最適化されたコード
- パフォーマンス改善提案
- セキュリティレビューレポート

### 6. レビュー（Review）

**目標**：最終評価と総括

**AI の動作**：
- 実装結果を包括的にレビュー
- テストレポートを生成
- 経験と教訓を総括
- フォローアップ改善提案を提示

**出力**：
- 完全な実装サマリー
- テストレポート
- 経験総括
- 改善提案

## 実行フロー

### 基本フロー

1. **コマンド入力**：`/ccjk:workflow` または `/prompts:workflow` を入力してタスクを説明
2. **段階実行**：AI が6つの段階を順番に実行
3. **ユーザー確認**：各段階完了後にユーザー確認を待機
4. **次のステップへ**：ユーザー確認後に次の段階へ進む
5. **ドキュメント保存**：計画ドキュメントがプロジェクトディレクトリに自動保存

### ドキュメント保存場所

ワークフローは計画ドキュメントを自動生成し、保存を要求します：

- **進行中のタスク**：`.ccjk/plan/current/` ディレクトリ
- **完了したタスク**：`.ccjk/plan/history/` ディレクトリ

> 💡 **ヒント**：`.ccjk/` は統一ワークフローディレクトリであり、Claude Code でも Codex でも同じパスを使用します。

#### ファイル命名規則

- **進行中**：`タスク名.md`（例：`ユーザーログイン機能.md`）
- **アーカイブ後**：`[完了時刻]タスク名.md`（例：`2024-01-15_143052ユーザーログイン機能.md`）

時刻形式は `YYYY-MM-DD_HHMMSS`、正確性を確保するため bash コマンドで自動取得します。

## ベストプラクティス

### 1. タスク分割

複雑なタスクの場合、先に分割してから個別に実行することを推奨：

```
# メインタスク
/ccjk:workflow ユーザー管理システムを構築

# サブタスク 1
/ccjk:workflow ユーザー登録機能を実装

# サブタスク 2
/ccjk:workflow ユーザーログイン機能を実装

# サブタスク 3
/ccjk:workflow ユーザー情報管理を実装
```

### 2. プロジェクト初期化との組み合わせ

ワークフロー開始前に、プロジェクト設定を初期化することを推奨：

```
# 1. プロジェクト初期化（Claude Code）
/init-project

# 2. またはプロジェクト初期化（Codex）
# Codex は init-project をまだサポートしていないため、直接ワークフローを使用

# 3. ワークフロー実行
/ccjk:workflow <タスク説明>
```

初期化後に生成されるもの：
- **Claude Code**：`CLAUDE.md` プロジェクト設定ドキュメント
- **Codex**：`AGENTS.md` エージェント設定ドキュメント

これらのドキュメントはワークフローにプロジェクトコンテキストを提供します。

### 3. 計画ドキュメントの活用

ワークフローで生成された計画ドキュメントは：

- 📖 **参照とレビュー**：後続の開発で計画ドキュメントを参照
- 🔄 **反復的更新**：実際の状況に基づいて計画を更新
- 👥 **チームコラボレーション**：チームメンバーと計画を共有
- 📝 **ドキュメントアーカイブ**：プロジェクトドキュメントとしてバージョン管理に含める

### 4. 段階確認のヒント

各段階の確認時に、以下のことができます：

- ✅ **クイックパス**：結果が満足なら、直接確認して次の段階へ
- 🔄 **調整を要求**：満足でなければ、AI に調整を依頼してから確認
- 📝 **要件を追加**：確認時に追加の要件や制約を追加
- ⏸️ **一時停止して保存**：重要な段階で一時停止し、中間結果を保存

### 5. 他のワークフローとの組み合わせ

6段階ワークフローは他のワークフローと組み合わせて使用できます：

```bash
# 1. 機能開発ワークフローで機能を計画
/ccjk:feat ユーザーコメント機能

# 2. 6段階ワークフローで詳細を実装
/ccjk:workflow コメントの CRUD 操作と権限制御を実装

# 3. Git ワークフローでコードをコミット
/git-commit
```

## 使用例

### 例 1：シンプルな機能開発

```
/ccjk:workflow ユーザーアバターアップロード機能を追加
```

ワークフローの動作：
1. アバターアップロードのベストプラクティスをリサーチ
2. 複数の実装ソリューションを構想（ローカルストレージ vs クラウドストレージ）
3. 詳細な実装計画を作成
4. アップロード機能とプレビューを実装
5. 画像圧縮とキャッシュを最適化
6. 完全な機能をレビュー

### 例 2：複雑なシステム開発

```
/ccjk:workflow マイクロサービスアーキテクチャのユーザー認証システムを構築、OAuth2 と JWT をサポート
```

ワークフローの動作：
1. マイクロサービス認証アーキテクチャを深くリサーチ
2. OAuth2 と JWT 統合ソリューションを設計
3. 詳細なアーキテクチャと実装計画を作成
4. 各コンポーネントを段階的に実装
5. パフォーマンスとセキュリティを最適化
6. システムを包括的にレビュー

### 例 3：コードリファクタリング

```
/ccjk:workflow ユーザーモジュールをリファクタリング、コード品質と保守性を向上
```

ワークフローの動作：
1. 既存のコード構造と問題を分析
2. リファクタリングソリューションを設計
3. 段階的なリファクタリング計画を作成
4. コードを段階的にリファクタリング
5. コード構造を最適化
6. リファクタリング結果を検証

## 注意事項

### 計画ドキュメントの場所

ワークフローは統一された `.ccjk/plan/` ディレクトリ構造を使用：

```
プロジェクトルート/
└── .ccjk/
    └── plan/
        ├── current/                        # 現在進行中のタスク
        │   └── タスク名.md                 # 実行計画とコンテキスト
        └── history/                        # 完了した履歴タスク
            └── [完了時刻]タスク名.md       # アーカイブされたタスク記録
```

- ⚠️ **統一ディレクトリ**：Claude Code でも Codex でも `.ccjk/plan/` ディレクトリを使用
- ✅ **バージョン管理**：計画ドキュメントを Git バージョン管理に含めることを推奨
- 📁 **自動アーカイブ**：タスク完了後、計画ファイルは自動的に `current/` から `history/` に移動

### 段階スキップ

段階確認をスキップすることは推奨されません：

- 各段階には重要性があります
- ユーザーフィードバックは AI の方向調整に役立ちます
- スキップすると重要なステップを見逃す可能性があります

### 長時間タスク

非常に複雑なタスクの場合：

- ワークフローを複数回実行できます
- 毎回1つのサブタスクに集中
- 計画ドキュメントを接続として使用

## 関連リソース

- [機能開発ワークフロー](feat.md) - 新機能設計と実装
- [BMad アジャイルプロセス](bmad.md) - エンタープライズレベルのアジャイル開発
- [Git スマートコマンド](git-commands.md) - Git 操作の自動化
- [ワークフローシステム](../features/workflows.md) - ワークフローの詳細情報

> 💡 **ヒント**：6段階ワークフローは CCJK のコア機能であり、ほとんどの開発タスクに適しています。小さなタスクから始めてプロセスに慣れ、その後徐々により複雑なプロジェクトに適用することを推奨します。段階確認メカニズムを適切に使用することで、より良い開発体験が得られます。
